<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link rel="styleSheet" href="styles.css"> 
    <title>Gubuntu.net</title>
</head>
<body class="bg-light">
    <header class="text-center">
        <div class="container topHeader m-0 text-white">
            <h1>Velkommen til Gubuntu.net!</h1>

        </div>
    </header>
    <div class="text-center">
        <div class="container orangLine p-4 m-0 text-white row">
            <div class="col-1"></div>
            <div class="col-10">
                <h2>Her kan du lære hvordan du kan hoste din egen nettside, akkurat som denne.</h2>
            </div>     
            <div class="col-1">       
                <img class="themeToggle" src="img/lightbulb-regular.svg" alt="Endre tema" onclick="themeChange()">
            </div>
        </div>
    </div>

    <div class="container-fluid row mainCont m-0 pt-4 p-0">
        <div class="navCol bg-light col-2">
            <div class="container border-4 border-bottom p-2">
                <a href="#chap1" class=" text-dark navText">Kapittel 1: Sett opp maskin</a>
            </div>
            <div class="container border-4 border-bottom p-2">
                <a href="#chap2" class=" text-dark navText">Kapittel 2: Konfigurere webserver</a>
            </div>
            <div class="container border-4 border-bottom p-2">
                <a href="#chap3" class=" text-dark navText">Kapittel 3: Sett opp Apache</a>
            </div>
            <div class="container border-4 border-bottom p-2">
                <a href="#chap4" class="text-dark navText">Kapittel 4: Legg inn egen HTML</a>
            </div>
        </div>
        <div class="mainPage col-9 bg-white">
            <div class="container" id="chap1">
                <h2 class="chapH">Kapittel 1</h2>
                <h3>Sette opp en virtuell maskin.</h3> 
                <br>               
                <p>Aller først må vi opprette serveren vi skal hoste nettsiden vår på. Naviger fram til ditt elevpool i menyen til venstre (i dette tilfellet elevpool 31), høyreklikk og velg "New virtual machine".</p>
                <img src="img/1CreateNew.png" alt="Bilde menyen til venstre" width="400px">                
                <br>
                <p>I denne nye menyen vil det være 7 steg man må gjennom for å opprette en ny maskin. Det første steget er å velge hvordan man vil opprette maskinen, og ettersom vi oppretter den fra bunnen av, velger vi bare "Create a new virtual machine". Så må vi gi maskinen et navn, og et sted den skal lagres. Jeg har gitt den navnet "TutorialUbuntuMachine". Mappen som den lagres i lot jeg være slik den er.</p>
                <img src="img/12CreateNew.png" alt="Velg create a new virtual machine" width="500px"><img src="img/13Name.png" alt="Gi maskinen et passende navn og velg en mappe den skal lagres i" width="500px">
                <p>Så må vi velge en "compute resource", og her ligger en liste over de forskjellige elevpool-nummerne. Velg ditt elevpool fra listen (i dette tilfellet 31), og trykk "next". På steg 4 velger vi stedet der vi skal lagre filene til den virtuelle maskinen. I vårt tilfelle velger vi "IKT-fag".</p>
                <img src="img/14Pool.png" alt="Velg ditt elevpool fra listen" width="400px"><img src="img/15Storage.png" alt="Velg en storage policy fra listen, i vårt tilfelle er der IKT-fag" width="500px">
                <p>På "Select compatibility" velger vi "ESXi 6.7 and later", som er standardinnstillingen. Etter dette skal man velge operativsystemet, og her må man først velge Linux i den øverste menyen, og så navigere fram til "Ubuntu Linux (64-bit)".</p>
                <img src="img/16Compat.png" alt="Velg ESXi 6.7 hvis det ikke er valgt allerede" width="500px"><img src="img/17OS.png" alt="Velg Linux og Ubuntu fra menyen" width="500px">
                <p>Etter å ha valgt operativsystem vil du komme til "Customize hardware", og her er det en del som må justeres. Aller først går vi til "New network", og velger "Browse" fra menyen markert i rødt. I menyen som da kommer opp, velger man sitt elevpool-nummer og trykker ok.</p>
                <img src="img/18HardwareNetwork.png" alt="Gå ned til New network og velg browse fra menyen markert i rødt" width="600px"><img src="img/181HardwareNetwork.png" alt="Velg ditt elevpoolnummer fra listen" width="500px">
                <p>Så går man til "New CD/DVD drive" og velger "Content library ISO file" fra listen. I listen som kommer opp vil det være mange forskjellige muligheter, men ettersom vi skal opprette en Ubuntu webserver velger vi "ubuntu-20.04.3-live-server" som ligger øverst. Når man har gjort det, pass på at du krysser av på "Connect at power on".</p>
                <img src="img/182ContentLibrary.png" alt="Ved New CD/DVD drive, velg content library ISO file" width="600px"><img src="img/183ContentLibrary.png" alt="Velg Ubuntu helt øverst på listen" width="550px">
                <p>Neste steg er i "New hard disk" menyen. I "Disk provisioning" menyen må vi velge "Thin provision". Dette vil hindre den virtuelle maskinen fra å bruke for mange ressurser.</p>
                <img src="img/184Thin.png" alt="Velg thin provision i disk provisioning under new hard disk menyen" width="700px">
                <p>Når du har fullført alle stegene over og trykket "Finish", så vil du kunne finne maskinen liggende under ditt elevpool.</p>
                <img src="img/185Ready.png" alt="Slik skal skjermen se ut" width="700px">


            </div>
            <hr>
            <div class="container" id="chap2">
                <h2 class="chapH">Kapittel 2</h2>
                <h3>Konfigurering av Ubuntu webserver</h3>
                <br>
                <div>    
                    <p>Før vi gjør noe annet må vi starte opp selve maskinen ved å trykke på den grønne pilen til høyre for navnet på maskinen. Man kan også høyreklikke på maskinen og gå til power - power on.</p>
                    <img src="img/185Ready.png" alt="trykk på den grønne pilen for å starte maskinen" width="700px">
                </div>
                <div>    
                    <p>Nå som vi har started maskinen vil teksten "Launch web console" bli synlig. Trykk på den, og velg "Web console" i menyen som popper opp, og trykk ok.</p>
                    <img src="img/200Launch.png" alt="Trykk på launch web console" width="700px">
                </div>
                <div>    
                    <p>Det aller første vi ser når vi har åpnet web konsollen er en meny som spør om å velge et språk. Her valgte jeg engelsk, men man kan velge norsk hvis man vil. Vær obs på at man kanskje må trykke på skjermen med musen for at den skal la deg gjøre noe.</p>
                    <img src="img/201Lang.png" alt="Velg et språk fra listen" width="700px">
                </div>
                <div>    
                    <p>Etter å ha valgt språk spør maskinen om språket til tastaturet. Her kan du enten velge manuelt fra listen, eller trykke på "Identify keyboard". Hvis du velger den vil maskinen spørre deg om å trykke på forskjellige knapper på tastaturet, helt til den finner ut hvilke knapper du har og ikke har.</p>
                    <img src="img/202Keyboard.png" alt="Velg et tastatur" width="700px">
                </div>
                <div> 
                    <p>Neste steg er å koble til internett. Start ved å velge der det står "ens160", og trykk enter for å få opp en liste. Velg "Edit IPv4" fra listen.</p>
                    <img src="img/203Network.png" alt="Velg ens160 øverst på skjermen" width="700px"><img src="img/204Network.png" alt="Velg edit ipv4" width="600px">
                </div>
                <div>    
                    <p>Etter å ha valgt IPv4 vil man få dette popup-vinduet. Trykk enter på menyen og velg "manual", ettersom vi må manuelt koble til internett.</p>
                    <img src="img/205NetworkMan.png" alt="Velg manual fra listen" width="700px">
                </div>
                <div> 
                    <p class="codeP">I  feltene som kommer opp skal man skrive inn IP addresse, Gateway, Subnett og DNS server. Search domains forblir tom.<br>Skriv følgende inn i feltene:</p>
                    <p class="lightCode">Subnet: 10.12.elevpoolnummer.0/24<br>Address: 10.12.elevpoolnummer.69<br>Gateway: 10.12.elevpoolnummer.1<br>Name servers: 10.10.1.30</p>
                    <p>Vær obs på at hvis du har flere webservere må du ha et annet tall i slutten av "Address".<br>Når du er ferdig med å skrive inn IP-ene, trykk på save, og så trykk på "done" for å gå videre.</p>
                    <img src="img/207NetworkIPFilled.png" alt="Slik skal det se ut når Ip-ene er fylt ut" width="600px">
                </div>
                <div>    
                    <p>Nå vil det være en del steg som vi skal hoppe over fordi vi ikke har bruk for dem. Den aller første av disse er når maskinen spør om du vil konfigurere proxy. Ikke skriv noe inn i feltet øverst, bare trykk på done.<br>Like etter spør maskinen om å konfigurere archive mirror. Dette trenger vi heller ikke gjøre noe med, så vi går bare videre.</p>
                </div>
                <div>    
                    <p>Så vil maskinen spørre om du vil oppdatere. Man kan velge og oppdatere hvis man vil, men ettersom denne guiden ble laget uten å gjøre det kan det føre til uforventede problemer.</p>
                    <img src="img/211Continue.png" alt="Meny der maskinen spør om du vil oppdatere" width="700px">
                </div>
                <div>    
                    <p>Når maskinen spør om å konfigurere storage layout, går man bare videre.</p>
                    <img src="img/212Storage.png" alt="Meny med valg for storage" width="700px">
                </div>
                <div>    
                    <p>Ved å gå videre etter storage layout vil maskinen spørre om å bekrefte en "destructive action". Hvis man har fulgt alle stegene så langt så vil ikke dette være noe problem, men det kan være lurt å dobbeltskjekke at man har satt opp alt som det skal.</p>
                    <img src="img/213Destructive.png" alt="Popup om destructive action" width="700px">
                </div>
                <div>    
                    <p>Neste steg er å opprette en bruker på webserveren. Her skriver man inn navn, navn på webserveren, brukernavn og passord. Her kan man skrive inn hva man vil i de forskjellige feltene, bare pass på at du husker det du skriver inn som brukernavn og passord, ettersom de vil bli brukt til å bekrefte visse handlinger senere.</p>
                    <img src="img/214Profile.png" alt="menyen der du skriver inn profilinformasjon" width="600px"><img src="img/215ProfileFilled.png" alt="Ferdig utfylt profil" width="600px">
                </div>
                <div>    
                    <p>Så vil maskinen spørre om du vil bruke SSH. Sammenlignet med mange av de andre stegene som vi hoppet over tidligere, så er SSH noe vi skal ha. Huk av på "Install OpenSSH server", og gå videre.</p>
                    <img src="img/216SSH.png" alt="Meny for valg av SSH" width="700px">
                </div>
                <div>   
                    <p>Etter dette vil man få en meny fylt med mange forskjellige verktøy til webservere. Vi skal ikke bruke noen av disse, så bare trykk "done" for å gå videre.</p>
                    <img src="img/217Ignoresnaps.png" alt="Stor meny med såkalte snaps" width="700px"> 
                </div>
                <div>    
                    <p>Maskinen vil nå begynne å installere diverse systemer. Dette er det siste steget før maskinen er ferdig satt opp. Konsollen vil kjøre for fullt, og dette kan fort ta rundt 13 minutter. Når den er ferdig vil det komme en "reboot now" knapp nederst, som vil ferdigstille oppsettet av maskinen.</p>
                    <img src="img/218Loading.png" alt="konsoll som blir klargjort" width="700px">
                </div>
                <div>    
                    <p>Etter å ha startet på nytt vil man få dette vinduet, som snakker om å fjerne et såkalt "installation medium". Ettersom dette er en virtuell maskin og ikke en maskin som er satt opp gjennom en disk, kan vi bare ignorere dette og trykke enter.</p>
                    <img src="img/220Restart.png" alt="Melding som kommer ved restart av konsollen" width="700px">
                </div>
                <div>    
                    <p>Konsollen vil nå bli fylt med mange forskjellige kommandoer. Dette er maskinen som starter. Når den har startet helt, vil man bli spurt om å logge inn. På login skriver du inn brukernavnet og passordet du definerte tidligere. Vær obs på at det ikke vil være noen visuell indikasjon på at man skriver inn passorded, så her må man være sikker på at man skriver passordet riktig. Når man har skrevet inn alt trykker man enter.</p>
                    <img src="img/222Login.png" alt="felt for innlogging" width="700px">
                </div>
                <div>    
                    <p>Hvis du har skrevet inn riktig brukernavn og passord, vil du få denne skjermen. Gratulerer, du har nå satt opp en webserver!</p>
                    <img src="img/223Ready.png" alt="Menyen som vises når man har logget inn" width="700px">
                </div>
            </div>
            <hr>
            <div class="container" id="chap3">
                <h2 class="chapH">Kapittel 3</h2>
                <h3>Installere Apache</h3>
                <div>    
                    <p>Først må vi oppdatere systemet for å få den nyeste versjonen av Apache 2. Skriv inn følgende:</p>
                    <p class="darkCode">$ sudo apt update</p>
                    <p style="padding-top: 10px;">Vær obs på at hver gang en av kommandoene inneholder "sudo", må du skrive inn passordet ditt.</p>
                </div>
                <div>
                    <p>Så skal vi installere Apache. Skriv inn følgende kommando:</p>
                    <p class="darkCode">$ sudo apt install apache2</p>
                    <p style="padding-top: 10px;">Systemet vil så spørre om du er sikker på om du vil installere Apache. Trykk på "y" for å gå videre.</p>
                </div>
                <div>
                    <p>Etter å ha ferdiginstallert Apache 2 kan man sjekke versjonen med:</p>
                    <p class="darkCode">$ apache2 -version</p>
                </div>
                <div>
                    <p>For at vi skal kunne nå Apache 2 utenifra må vi finne ut hvilke systemer vi må gi tilgang til brannmuren. Skriv inn følgende:</p>
                    <p class="darkCode">$ sudo ufw app list</p>
                    <!--Add an image here or something-->
                </div>
                <div>
                    <p>Vi skal gi tilgang til det øverste punktet på listen som kommer opp, "Apache".</p>
                    <p class="darkCode">$ sudo ufw allow 'Apache'</p>
                    <p style="padding-top: 10px;">Sjekk så at Apache har tilgang til brannmuren.</p>
                    <p class="darkCode">$ sudo ufw status</p>
                </div>
                <div>
                    <p>Neste steg er å sjekke om Apache fungerer. Skriv inn følgende:</p>
                    <p class="darkCode">$ sudo systemctl status apache2</p>
                    <p>Du kan også sjekke om siden fungerer ved å skrive inn:</p>
                    <p class="darkCOde">$ hostname -I</p>
                    <p style="padding-top: 10px;">Og så skrive inn "http://" etterfulgt av IP-adressen som kommer opp. Hvis alt fungerer, vil du få en meny som ligner på denne:</p>
                    <img src="img/Apache2Page.png" alt="Apache 2 standardside" width="700px">
                </div>
                <div>
                    <p>Nå er det på tide å sette opp filsystemet for serveren, slik at vi kan legge inn vår egen nettside. I denne guiden kommer jeg til å opprette siden "testbuntu.net", men du må bytte ut "testbuntu.net" med ditt eget domenenavn.</p>
                    <p>Først må vi lage mappen som nettsiden skal lagres i ved å skrive inn følgende kommando:</p>
                    <p class="darkCode">$ sudo mkdir -p /var/www/testbuntu.net/html</p>
                    <p style="padding-top: 10px;">(Bytt ut testbuntu.net med ditt eget domenenavn)</p>
                </div>
                <div>
                    <p>Så må vi endre plasseringen på mappen:</p>
                    <p class="darkCode">$ sudo chown -R $USER:$USER /var/www/testbuntu.net/html</p>
                    <p style="padding-top: 10px;">Etter dette må vi gi mappen nødvendige tilganger:</p>
                    <p class="darkCode">$ sudo chmod -R 755 /var/www/testbuntu.net</p>
                </div>
                <div><!--Maybe include a way to open the page itself through the IP adress between these points-->
                    <p>Etter å ha installert Apache og satt opp en mappe for nettsiden å ligge, skal vi lage en midlertidig html-side for nettsiden. For å gjøre det enkelt skal vi bruke et innebygd tekstredigeringsprogram som heter nano, men man kan bruke andre program hvis man ønsker. Åpne nano med følgende:</p>
                    <p class="darkCode">$ nano /var/www/testbuntu.net/html/index.html</p>
                    <p>Skriv følgende inn i nano:</p>
                    <p class="darkCode" style="text-align: left;">
                        &lt;html&gt;<br>	
                        &lt;head&gt;<br>
                        &lt;title>testbuntu.net&lt;/title&gt;<br>
                        &lt;/head&gt;<br>
                        &lt;body&gt;<br>
                        &lt;h1>Velkommen til testbuntu.net!&lt;/h1&gt;<br>
                        &lt;/body&gt;<br>
                        &lt;/html&gt;
                    </p>
                    <p style="padding-top: 10px;">Når du har skrevet alt inn trykk ctrl+O for å lagre og ctrl+X for å gå ut.</p>
                </div>
                <div>
                    <p>Neste steg er å opprette en host-fil, som vil koble serveren sin IP til serveren sitt domenenavn. Skriv inn følgende for å opprette en host-fil og redigere den i nano:</p>
                    <p class="darkCode">$ sudo nano /etc/apache2/sites-available/testbuntu.net.conf</p>
                    <p>Skriv så inn det følgende i nano:</p>
                    <p class="darkCode" style="text-align: left;">
                        &lt;VirtualHost *:80&gt;<br>
                        ServerAdmin admin@testbuntu.net<br>
                        ServerName testbuntu.net<br>
                        ServerAlias testbuntu.net<br>
                        DocumentRoot /var/www/testbuntu.net/html<br>
                        ErrorLog ${APACHE_LOG_DIR}/error.log<br>
                        CustomLog ${APACHE_LOG_DIR}/access.log combined<br>
                        &lt;/VirtualHost&gt;<br>
                    </p>
                    <p style="padding-top: 10px;">(Husk å bytte ut "testbuntu.net" med ditt domenenavn)</p>
                    <p style="padding-top: 10px;">Trykk deretter ctrl+O og så ctrl+X for å lagre og gå ut.</p>
                </div>
                <div>
                    <p>Så må vi opprette en konfigurasjonsfil til host-filen. Skriv inn følgende:</p>
                    <p class="darkCode">$ sudo a2ensite info.net.conf</p>
                    <p style="padding-top: 10px;">Skru så av standard-host-filen med følgende:</p>
                    <p class="darkCode">$ sudo a2dissite 000-default.conf</p>
                    <p>Restart Apache for at for at endringene skal tre i kraft:</p>
                    <p class="darkCode">$ sudo systemctl restart apache2</p>
                </div>
                <div>
                    <!--Any problems that occur now will have to be tested on own web server, if they occur, make a section here.-->
                    <p>Apache 2 er nå ferdigkonfigurert, og du kan skrive inn ip-addressen til webserveren i søkefeltet for å åpne nettsiden din.</p>
                </div>
            </div>
            <hr>
            <div class="container" id="chap4">
                <h2 class="chapH">Kapittel 4</h2>
                <h3>Legge inn egen HTML</h3>
                <div>
                    <p>I teorien kan man bruke nano-editoren til å legge inn HTML, men ettersom nano-editoren er kort sagt primitiv, kommer vi til å lage en separat HTML fil som vi legger inn på webserveren gjennom programmet FileZilla. Før du lager selve HTML-filen til nettsiden du vil hoste på webserveren burde man lage en enkel HTML fil som bare inneholder litt tekst, slikt at man får testet at alt faktisk fungerer.</p>
                </div>
                <div>
                    <p>Gå til <a href="https://filezilla-project.org/">FileZilla sin nettside</a> og last ned FileZilla ved å trykke på "Download FileZilla client". Etter å ha gjennomgått installasjonsprosessen vil FileZilla være klar til å brukes.</p>
                </div>
                <div>
                    <p>Pass på at webserveren din er skrudd på når du bruker FileZilla, ellers kan du støte på problemer mens du prøver å få få tilgang til filene til webserveren.<br>
                    Først må vi logge inn på FileZilla med webserverbrukeren. Trykk på "åpne tjeneroppsett" øverst til høyre.</p>
                    <img src="img/401.png" alt="Bilde av forsiden til FileZilla" width="700px">
                </div>
                <div>
                    <p>Aller først trykker du på "new site" for å opprette en ny side hos FileZilla. Her har jeg brukt webserveren som denne siden kjører på.<br>
                    Velg "SFTP" i protokoll-menyen, og skriv inn IP-adressen til din webserver i "vert"-feltet. "Port"-feltet kan forbli tomt.<br>
                    I feltene bruker og passord skriver du inn brukernavnet og passordet til webserveren din. Når alt er skrevet inn kan du trykke på "koble til".</p>
                    <img src="img/402.jpg" alt="Bilde av innloggingsmenyen til FileZilla" width="700px">
                </div>
                <div>
                    <p>Når du går tilbake til startmenyen vil FilaZilla prøve å koble seg til, som man kan se i en konsoll øverst. Hvis FileZilla klarer å koble til webserveren, vil du til slutt se mappestrukturen til webserveren nederst til høyre.</p>
                    <img src="img/404.png" alt="Bilde av mappestrukturen til webserveren som sett gjennom FileZilla" width="700px">
                </div>
                <div>
                    <p>Vi må finne fram til "var" mappen vi opprettet i forrige kapittel. Trykk på mappen øverst til venstre markert med "/", og gå ned hele veien til du finner "var" mappen.</p>
                    <img src="img/405.png" alt="Bilde av mappestrukturen til webserveren som sett gjennom FileZilla" width="700px">
                </div>
                <div>
                    <p>Gå inn i "www" mappen, så mappen med navnet til serveren din, og til slutt inn i "html" mappen. Her vil html-filen du opprettet i forrige kapittel ligge.</p>
                    <img src="img/406.png" alt="Bilde av mappestrukturen til webserveren som sett gjennom FileZilla" width="700px">
                </div>
                <div>
                    <p>Det er i denne html-mappen at vi legger inn filene som vi skal hoste på webserveren. I menyen til venstre vil du kunne se filsystemet til din egen PC, og derfra kan du dra filer fra egen maskin inn i webserveren.</p>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <!--Add something here to add some space to the bottom-->
    </footer>
    <script src="index.js"></script>
</body>
</html>
